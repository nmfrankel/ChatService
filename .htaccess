# 1 Month for most static assets
<filesMatch ".(jpg|jpeg|png|gif|ico|webp)$">
Header set Cache-Control "max-age=2592000, public"
</filesMatch>


RewriteEngine On

# Enforce HTTPS (only if you have a SSL cert installed)
RewriteCond %{SERVER_PORT} 80
RewriteCond %{HTTPS} off
# RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Retreive files from /frontend directory except when requesting index file
RewriteCond %{REQUEST_URI} !(frontend/|^$)
RewriteRule (.*) /frontend/$1 [L]

# Append file extension to request
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^frontend/chat chat.php [NC,L]
RewriteRule ^([^\.]+)$ $1.html [NC,L]


## Set fallbacks
DirectoryIndex /README.md
ErrorDocument 404 /frontend/missing.html
ErrorDocument 403 /frontend/missing.html