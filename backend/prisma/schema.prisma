generator client {
	provider = "prisma-client-js"
}

datasource db {
	provider	= "sqlite"
	url			= env("DATABASE_URL")
}

model User {
	id			Int			@id @default(autoincrement())
	role		String		@default("USER")
	email		String
	pswd		String?
	handle		String?
	first		String
	last		String
	phone		String		@unique
	asSender	Msg[]		@relation("asSender")
	asReceiver	Msg[]		@relation("asReceiver")
}

model Msg {
	id			String		@id @default(cuid())
	sender		User		@relation("asSender", fields: [senderId], references: [id])
	senderId	Int
	receiver	User		@relation("asReceiver", fields: [receiverId], references: [id])
	receiverId	Int
	msgType		String		@default("text/plain")
	content		String
	posted		DateTime	@default(now())
	metadata	String
}
